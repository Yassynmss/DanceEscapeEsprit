<div class="form-container">
  <h2 class="form-title">Create a new dancers group</h2>
  <form [formGroup]="createGroupForm" (submit)="createGroup()">
    <div>
      <label for="groupName">Group Name:</label>
      <input type="text" id="groupName" name="groupName" formControlName="groupName">
      <div *ngIf="createGroupForm?.get('groupName')?.value === null && createGroupForm?.get('groupName')?.touched" class="text-danger">Group Name is required</div>
    </div>
    <div class="form-group">
      <label for="groupDescription">Group Description (max 150 characters):</label>
      <textarea id="groupDescription" name="groupDescription" formControlName="groupDescription"></textarea>
      <div *ngIf="createGroupForm?.get('groupDescription')?.value === null && createGroupForm?.get('groupDescription')?.touched" class="text-danger">Group Description is required</div>

      <div *ngIf="createGroupForm?.get('groupDescription')?.errors?.['maxlength'] && createGroupForm?.get('groupDescription')?.touched" class="text-danger">Maximum length exceeded (150 characters)</div>
    </div>
    <div class="form-group">
      <label for="members">Group Members:</label>
      <div *ngFor="let memberControl of memberControls; let i = index" class="member-item">
        <select [formControl]="memberControl" required class="form-control member-input">
          <option *ngFor="let user of availableUsers; let j = index" [ngValue]="j">{{ user.firstname }} {{ user.lastname }}</option>

        </select>
        
        <button type="button" (click)="removeMember(i)" class="btn btn-danger remove-button">Remove</button>
      </div>
      <button type="button" (click)="addMember()" class="btn btn-primary" [disabled]="memberControls.length >= 3">Add Member</button>
      <p *ngIf="memberControls.length >= 3" class="text-danger">You have reached the maximum number of members (3).</p>
    </div>
    
    <div class="button-container">
      <button routerLink="/admin/dashboarddg" class="back-button">Back to Dashboard</button>
      <button type="submit">Create Group</button>
      
    </div>
  </form>
</div>
